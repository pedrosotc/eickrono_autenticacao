spring:
  config:
    activate:
      on-profile: prod
  datasource:
    url: jdbc:postgresql://rds-identidade.eickrono.internal:5432/eickrono_identidade
    username: ${IDENTIDADE_DB_USUARIO}
    password: ${IDENTIDADE_DB_SENHA}
  flyway:
    schemas: identidade
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: https://identidade.eickrono.com.br/realms/producao
          jwk-set-uri: https://identidade.eickrono.com.br/realms/producao/protocol/openid-connect/certs

seguranca:
  mtls:
    habilitado: true
    keystore-arquivo: file:/app/seguranca/mtls/servidor-prod.p12
    keystore-senha: ${IDENTIDADE_MTLS_KEY_PASSWORD}
    truststore-arquivo: file:/app/seguranca/mtls/truststore-prod.p12
    truststore-senha: ${IDENTIDADE_MTLS_TRUST_PASSWORD}
  cors:
    origens-permitidas:
      - https://app.eickrono.com.br
      - https://bff.eickrono.com.br

springdoc:
  api-docs:
    enabled: false
  swagger-ui:
    enabled: false

management:
  server:
    port: 9091
  endpoints:
    web:
      exposure:
        include: health,prometheus
  endpoint:
    health:
      show-details: when_authorized

documentacao:
  swagger:
    usuario: swagger
    senha: ${SWAGGER_HML_SENHA:trocar}
    ips-permitidos:
      - 10.0.0.1

logging:
  level:
    root: WARN
    com.eickrono.api.identidade: INFO
